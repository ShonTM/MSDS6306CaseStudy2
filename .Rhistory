crimedata$racePctHisp,
crimedata$agePct12t21,
crimedata$agePct12t29,
crimedata$agePct16t24,
crimedata$agePct65up,
crimedata$numbUrban,
crimedata$pctUrban,
crimedata$medIncome,
crimedata$pctWWage,
crimedata$pctWFarmSelf,
crimedata$pctWInvInc,
crimedata$pctWSocSec,
crimedata$pctWPubAsst,
crimedata$pctWRetire,
crimedata$medFamInc,
crimedata$perCapInc,
crimedata$whitePerCap,
crimedata$blackPerCap,
crimedata$indianPerCap,
crimedata$AsianPerCap,
crimedata$OtherPerCap,
crimedata$HispPerCap,
crimedata$NumUnderPov,
crimedata$PctPopUnderPov,
crimedata$PctLess9thGrade,
crimedata$PctNotHSGrad,
crimedata$PctBSorMore,
crimedata$PctUnemployed,
crimedata$PctEmploy,
crimedata$PctEmplManu,
crimedata$PctEmplProfServ,
crimedata$PctOccupManu,
crimedata$PctOccupMgmtProf,
crimedata$MalePctDivorce,
crimedata$MalePctNevMarr,
crimedata$FemalePctDiv,
crimedata$TotalPctDiv,
crimedata$PersPerFam,
crimedata$PctFam2Par,
crimedata$PctKids2Par,
crimedata$PctYoungKids2Par,
crimedata$PctTeen2Par,
crimedata$PctWorkMomYoungKids,
crimedata$PctWorkMom,
crimedata$NumIlleg,
crimedata$PctIlleg,
crimedata$NumImmig,
crimedata$PctImmigRecent,
crimedata$PctImmigRec5,
crimedata$PctImmigRec8,
crimedata$PctImmigRec10,
crimedata$PctRecentImmig,
crimedata$PctRecImmig5,
crimedata$PctRecImmig8,
crimedata$PctRecImmig10,
crimedata$PctSpeakEnglOnly,
crimedata$PctNotSpeakEnglWell,
crimedata$PctLargHouseFam,
crimedata$PctLargHouseOccup,
crimedata$PersPerOccupHous,
crimedata$PersPerOwnOccHous,
crimedata$PersPerRentOccHous,
crimedata$PctPersOwnOccup,
crimedata$PctPersDenseHous,
crimedata$PctHousLess3BR,
crimedata$MedNumBR,
crimedata$HousVacant,
crimedata$PctHousOccup,
crimedata$PctHousOwnOcc,
crimedata$PctVacantBoarded,
crimedata$PctVacMore6Mos,
crimedata$MedYrHousBuilt,
crimedata$PctHousNoPhone,
crimedata$PctWOFullPlumb,
crimedata$OwnOccLowQuart,
crimedata$OwnOccMedVal,
crimedata$OwnOccHiQuart,
crimedata$RentLowQ,
crimedata$RentMedian,
crimedata$RentHighQ,
crimedata$MedRent,
crimedata$MedRentPctHousInc,
crimedata$MedOwnCostPctInc,
crimedata$MedOwnCostPctIncNoMtg,
crimedata$NumInShelters)
library(randomForest)
#crimedata
c<- cdss2[ , -2]
d<- cdss2[ , 2]
cdss.rf2 <- randomForest(c, d)
cdss2 <- data.frame(
crimedata$community,
crimedata$communityname,
crimedata$population,
crimedata$householdsize,
crimedata$racepctblack,
crimedata$racePctWhite,
crimedata$racePctAsian,
crimedata$racePctHisp,
crimedata$agePct12t21,
crimedata$agePct12t29,
crimedata$agePct16t24,
crimedata$agePct65up,
crimedata$medIncome,
crimedata$medFamInc,
crimedata$perCapInc,
crimedata$whitePerCap,
crimedata$blackPerCap,
crimedata$indianPerCap,
crimedata$AsianPerCap,
crimedata$OtherPerCap,
crimedata$HispPerCap,
crimedata$NumUnderPov,
crimedata$PctPopUnderPov,
crimedata$PctLess9thGrade,
crimedata$PctNotHSGrad,
crimedata$PctBSorMore,
crimedata$PctUnemployed,
crimedata$MalePctDivorce,
crimedata$MalePctNevMarr,
crimedata$FemalePctDiv,
crimedata$TotalPctDiv,
crimedata$PersPerFam,
crimedata$PctFam2Par,
crimedata$PctKids2Par,
crimedata$PctYoungKids2Par,
crimedata$PctTeen2Par,
crimedata$PctWorkMomYoungKids,
crimedata$PctWorkMom,
crimedata$NumIlleg,
crimedata$PctIlleg,
crimedata$NumImmig,
crimedata$PctImmigRecent,
crimedata$PctImmigRec5,
crimedata$PctImmigRec8,
crimedata$PctImmigRec10,
crimedata$PctRecentImmig,
crimedata$PctRecImmig5,
crimedata$PctRecImmig8,
crimedata$PctRecImmig10,
crimedata$PctSpeakEnglOnly,
crimedata$PctNotSpeakEnglWell,
crimedata$RentLowQ,
crimedata$RentMedian,
crimedata$RentHighQ,
crimedata$MedRent,
crimedata$MedRentPctHousInc,
crimedata$MedOwnCostPctInc,
crimedata$MedOwnCostPctIncNoMtg,
crimedata$NumInShelters)
c<- cdss2[ , -2]
d<- cdss2[ , 2]
cdss.rf2 <- randomForest(c, d)
cdss2 <- data.frame(
crimedata$community,
crimedata$communityname,
crimedata$population,
crimedata$householdsize,
crimedata$racepctblack,
crimedata$racePctWhite,
crimedata$racePctAsian,
crimedata$racePctHisp,
crimedata$agePct12t21,
crimedata$agePct12t29,
crimedata$agePct16t24,
crimedata$agePct65up)
c<- cdss2[ , -2]
d<- cdss2[ , 2]
cdss.rf2 <- randomForest(c, d)
c<- cdss2[ , -5]
d<- cdss2[ , 5]
cdss.rf2 <- randomForest(c, d)
cdss2 <- data.frame(
crimedata$racepctblack,
crimedata$racePctWhite,
crimedata$racePctAsian,
crimedata$racePctHisp,
crimedata$agePct12t21,
crimedata$agePct12t29,
crimedata$agePct16t24,
crimedata$agePct65up)
library(randomForest)
#crimedata
c<- cdss2[ , -5]
d<- cdss2[ , 5]
cdss.rf2 <- randomForest(c, d)
cdss.rf2
cdss.rf2$importance
predict(cdss.rf2, c)
cdss2 <- data.frame(
crimedata$racepctblack,
crimedata$racePctWhite,
crimedata$racePctAsian,
crimedata$racePctHisp,
crimedata$agePct12t21,
crimedata$agePct12t29,
crimedata$agePct16t24,
crimedata$agePct65up,
crimedata$medIncome,
crimedata$medFamInc,
crimedata$perCapInc,
crimedata$whitePerCap,
crimedata$blackPerCap,
crimedata$indianPerCap,
crimedata$AsianPerCap,
crimedata$OtherPerCap,
crimedata$HispPerCap,
crimedata$NumUnderPov,
crimedata$PctPopUnderPov,
crimedata$PctLess9thGrade,
crimedata$PctNotHSGrad,
crimedata$PctBSorMore,
crimedata$PctUnemployed,
crimedata$MalePctDivorce,
crimedata$MalePctNevMarr,
crimedata$FemalePctDiv,
crimedata$TotalPctDiv,
crimedata$PersPerFam,
crimedata$PctFam2Par,
crimedata$PctKids2Par,
crimedata$PctYoungKids2Par,
crimedata$PctTeen2Par,
crimedata$PctWorkMomYoungKids,
crimedata$PctWorkMom,
crimedata$NumIlleg,
crimedata$PctIlleg,
crimedata$NumImmig,
crimedata$PctImmigRecent,
crimedata$PctImmigRec5,
crimedata$PctImmigRec8,
crimedata$PctImmigRec10,
crimedata$PctRecentImmig,
crimedata$PctRecImmig5,
crimedata$PctRecImmig8,
crimedata$PctRecImmig10,
crimedata$PctSpeakEnglOnly,
crimedata$PctNotSpeakEnglWell,
crimedata$RentLowQ,
crimedata$RentMedian,
crimedata$RentHighQ,
crimedata$MedRent,
crimedata$MedRentPctHousInc,
crimedata$MedOwnCostPctInc,
crimedata$MedOwnCostPctIncNoMtg,
crimedata$NumInShelters)
library(randomForest)
#crimedata
c<- cdss2[ , -5]
d<- cdss2[ , 5]
cdss.rf2 <- randomForest(c, d)
cdss2 <- data.frame(
crimedata$racepctblack,
crimedata$racePctWhite,
crimedata$racePctAsian,
crimedata$racePctHisp,
crimedata$agePct12t21,
crimedata$agePct12t29,
crimedata$agePct16t24,
crimedata$agePct65up,
crimedata$medIncome,
crimedata$medFamInc,
crimedata$perCapInc,
crimedata$whitePerCap,
crimedata$blackPerCap,
crimedata$indianPerCap,
crimedata$AsianPerCap,
crimedata$OtherPerCap,
crimedata$HispPerCap)
c<- cdss2[ , -5]
d<- cdss2[ , 5]
cdss.rf2 <- randomForest(c, d)
cdss2 <- data.frame(
crimedata$ViolentCrimesPerPop,
crimedata$racepctblack,
crimedata$racePctWhite,
crimedata$racePctAsian,
crimedata$racePctHisp,
crimedata$agePct12t21,
crimedata$agePct12t29,
crimedata$agePct16t24,
crimedata$agePct65up)
cdss3 <- data.frame(
crimedata$ViolentCrimesPerPop,
crimedata$medIncome,
crimedata$medFamInc,
crimedata$perCapInc,
crimedata$whitePerCap,
crimedata$blackPerCap,
crimedata$indianPerCap,
crimedata$AsianPerCap,
crimedata$OtherPerCap,
crimedata$HispPerCap)
cdss4 <- data.frame(
crimedata$ViolentCrimesPerPop,
crimedata$NumUnderPov,
crimedata$PctPopUnderPov,
crimedata$PctLess9thGrade,
crimedata$PctNotHSGrad,
crimedata$PctBSorMore,
crimedata$PctUnemployed)
cdss5 <- data.frame(
crimedata$ViolentCrimesPerPop,
crimedata$MalePctDivorce,
crimedata$MalePctNevMarr,
crimedata$FemalePctDiv,
crimedata$TotalPctDiv,
crimedata$NumIlleg,
crimedata$PctIlleg)
cdss6 <- data.frame(
crimedata$ViolentCrimesPerPop,
crimedata$NumImmig,
crimedata$PctImmigRecent,
crimedata$PctImmigRec5,
crimedata$PctImmigRec8,
crimedata$PctImmigRec10,
crimedata$PctRecentImmig,
crimedata$PctRecImmig5,
crimedata$PctRecImmig8,
crimedata$
cdss6 <- data.frame(
crimedata$ViolentCrimesPerPop,
crimedata$NumImmig,
crimedata$PctImmigRecent,
crimedata$PctImmigRec5,
crimedata$PctImmigRec8,
crimedata$PctImmigRec10,
crimedata$PctRecentImmig,
crimedata$PctRecImmig5,
crimedata$PctRecImmig8,
crimedata$PctRecImmig10)
c<- cdss2[ , -5]
cdss2 <- data.frame(
crimedata$ViolentCrimesPerPop,
crimedata$racepctblack,
crimedata$racePctWhite,
crimedata$racePctAsian,
crimedata$racePctHisp,
crimedata$agePct12t21,
crimedata$agePct12t29,
crimedata$agePct16t24,
crimedata$agePct65up)
cdss3 <- data.frame(
crimedata$ViolentCrimesPerPop,
crimedata$medIncome,
crimedata$medFamInc,
crimedata$perCapInc,
crimedata$whitePerCap,
crimedata$blackPerCap,
crimedata$indianPerCap,
crimedata$AsianPerCap,
crimedata$OtherPerCap,
crimedata$HispPerCap)
cdss4 <- data.frame(
crimedata$ViolentCrimesPerPop,
crimedata$NumUnderPov,
crimedata$PctPopUnderPov,
crimedata$PctLess9thGrade,
crimedata$PctNotHSGrad,
crimedata$PctBSorMore,
crimedata$PctUnemployed)
cdss5 <- data.frame(
crimedata$ViolentCrimesPerPop,
crimedata$MalePctDivorce,
crimedata$MalePctNevMarr,
crimedata$FemalePctDiv,
crimedata$TotalPctDiv,
crimedata$NumIlleg,
crimedata$PctIlleg)
cdss6 <- data.frame(
crimedata$ViolentCrimesPerPop,
crimedata$NumImmig,
crimedata$PctImmigRecent,
crimedata$PctImmigRec5,
crimedata$PctImmigRec8,
crimedata$PctImmigRec10,
crimedata$PctRecentImmig,
crimedata$PctRecImmig5,
crimedata$PctRecImmig8,
crimedata$PctRecImmig10)
library(randomForest)
#crimedata
c<- cdss2[ , -5]
d<- cdss2[ , 5]
cdss.rf2 <- randomForest(c, d)
cdss.rf2
cdss.rf2$importance
c<- cdss3[ , -5]
d<- cdss3[ , 5]
cdss.rf3 <- randomForest(c, d)
c<- cdss4[ , -5]
d<- cdss4[ , 5]
cdss.rf4 <- randomForest(c, d)
cdss.rf4
cdss.rf4$importance
c<- cdss5[ , -5]
d<- cdss5[ , 5]
cdss.rf5 <- randomForest(c, d)
cdss.rf5
cdss.rf5$importance
c<- cdss6[ , -5]
d<- cdss6[ , 5]
cdss.rf6 <- randomForest(c, d)
cdss.rf6
cdss.rf6$importance
cdss4 <- data.frame(
crimedata$ViolentCrimesPerPop,
crimedata$NumUnderPov,
crimedata$PctPopUnderPov)
cdss7 <- data.frame(
crimedata$ViolentCrimesPerPop,
crimedata$PctLess9thGrade,
crimedata$PctNotHSGrad,
crimedata$PctBSorMore,
crimedata$PctUnemployed)
c<- cdss4[ , -5]
d<- cdss4[ , 5]
c<- cdss7[ , -5]
d<- cdss7[ , 5]
cdss.rf7 <- randomForest(c, d)
cdss.rf7
cdss.rf7$importance
cdss4 <- data.frame(
crimedata$ViolentCrimesPerPop,
crimedata$NumUnderPov,
crimedata$PctPopUnderPov)
c<- cdss4[ , -5]
d<- cdss4[ , 5]
c<- cdss4[ , -1]
d<- cdss4[ , 1]
cdss.rf4 <- randomForest(c, d)
cdss.rf4
cdss.rf4$importance
c<- cdss2[ , ]
d<- cdss2[ , ]
cdss.rf2 <- randomForest(c, d)
c<- cdss2[ , -1]
d<- cdss2[ , 1]
cdss.rf2 <- randomForest(c, d)
cdss.rf2
cdss.rf2$importance
cdss8 <- data.frame(
crimedata$ViolentCrimesPerPop,
crimedata$PctSpeakEnglOnly,
crimedata$PctNotSpeakEnglWell,
crimedata$RentLowQ,
crimedata$RentMedian,
crimedata$RentHighQ)
c<- cdss8[ , -5]
d<- cdss8[ , 5]
cdss.rf8 <- randomForest(c, d)
cdss.rf8
cdss.rf8$importance
c<- cdss8[ , 1]
d<- cdss8[ , 1]
cdss.rf8 <- randomForest(c, d)
c<- cdss8[ , 1]
d<- cdss8[ , -1]
cdss.rf8 <- randomForest(c, d)
c<- cdss8[ , -1]
d<- cdss8[ , 1]
cdss.rf8 <- randomForest(c, d)
cdss.rf8
cdss.rf8$importance
c<- cdss2[ , -1]
d<- cdss2[ , 1]
cdss.rf2 <- randomForest(c, d)
cdss.rf2
cdss.rf2$importance
c<- cdss2[ , -1]
d<- cdss2[ , 2]
cdss.rf2 <- randomForest(c, d)
cdss.rf2
cdss.rf2$importance
predict(cdss.rf2, c)
# 3. Preliminary Data Viz.
ggplot(data = melt(wine), mapping = aes(x = value)) + geom_histogram(bins = 20) + facet_wrap(~variable, scales = 'free_x')
# 4. Train classifer (clf)
library(pROC)
library(randomForest)
library(ggplot2)
library(reshape2)
# 2. Load data
file_loc <-"http://archive.ics.uci.edu/ml/machine-learning-databases/wine-quality/winequality-red.csv"
wine <- read.csv(url(file_loc), sep=";")
# 3. Preliminary Data Viz.
ggplot(data = melt(wine), mapping = aes(x = value)) + geom_histogram(bins = 20) + facet_wrap(~variable, scales = 'free_x')
# 4. Train classifer (clf)
install.packages("pROC")
cdss <- data.frame(crimedata$householdsize,
crimedata$ViolentCrimesPerPop,
crimedata$racepctblack,
crimedata$racePctWhite,
crimedata$racePctHisp,
crimedata$PctLess9thGrade,
crimedata$PctNotHSGrad,
crimedata$PctBSorMore,
crimedata$MalePctDivorce,
crimedata$FemalePctDiv,
crimedata$PctImmigRecent,
crimedata$PctImmigRec5,
crimedata$PctImmigRec8,
crimedata$PctImmigRec10,
crimedata$PctSpeakEnglOnly,
crimedata$PctNotSpeakEnglWell,
crimedata$RentLowQ,
crimedata$RentMedian,
crimedata$RentHighQ)
c<- cdss[ , -1]
d<- cdss[ , 1]
cdss.rf <- randomForest(c, d)
cdss.rf
cdss.rf$importance
